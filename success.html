<html>

<head>
</head>
<style>
    body {
        text-align: center;
        padding: 40px 0;
        background: #EBF0F5;
    }

    h3 {
        color: #88B04B;
        font-family: Inter, Helvetica, "Apple Color Emoji", "Segoe UI Emoji", NotoColorEmoji, "Noto Color Emoji", "Segoe UI Symbol", "Android Emoji", EmojiSymbols, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", sans-serif;
        font-weight: 500;
        font-size: 22px;
        margin-bottom: 10px;
    }

    p {
        color: #404F5E;
        font-family: Inter, Helvetica, "Apple Color Emoji", "Segoe UI Emoji", NotoColorEmoji, "Noto Color Emoji", "Segoe UI Symbol", "Android Emoji", EmojiSymbols, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", sans-serif;
        font-size: 14px;
        margin: 0;
    }

    i {
        color: #9ABC66;
        font-size: 100px;
        line-height: 200px;
        margin-left: -15px;
    }

    .card {
        background: white;
        padding: 60px;
        border-radius: 4px;
        box-shadow: 0 2px 3px #C8D0D8;
        display: inline-block;
        margin: 0 auto;
    }

    span {
        font-size: 18px;
        font-weight: bold;
        color: #9ABC66;
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>




<body>
    <div class="card">
        <div style="border-radius:200px; height:200px; width:200px; background: #F8FAF5; margin:0 auto;">
            <i class="checkmark">âœ“</i>
        </div>
        <h3>Success</h3>
        <p>Verification Success Your Code geting Successfully!</p><br>
        <p>code - <span id="myspan"> </span></p>
    </div>

    <script>
        const searchParams = new URLSearchParams(window.location.search);
        const authorizationCode = searchParams.get('code');
        document.getElementById("myspan").innerText = authorizationCode.toString();



        const clientId = '1000.3GPDLDRMVCDEPXQILXS2Y3KMLPGI7G';
        const clientSecret = 'c91e5df5f0c9d39fa618028a5bb782294da0a2169e';
        const redirectUri = 'https://zohobooks.vercel.app/success.html';

        // Zoho Books token endpoint
        const tokenEndpoint = 'https://accounts.zoho.in/oauth/v2/token';

        // Construct the token request parameters
        const tokenRequestData = new URLSearchParams({
            code: "1000.272c13ab08dee20301c720803e177a7f.aa137000cf82977269b18c9f50d59f54",
            client_id: clientId,
            client_secret: clientSecret,
            redirect_uri: redirectUri,
            grant_type: 'authorization_code',
        });

        // Make an AJAX request to exchange the code for access and refresh tokens
        axios.post(tokenEndpoint, tokenRequestData)
            .then(response => {
                // Handle the response containing the access and refresh tokens
                const accessToken = response.data.access_token;
                const refreshToken = response.data.refresh_token;

                console.log('Access Token:', accessToken);
                console.log('Refresh Token:', refreshToken);

                // Now you can use the access token for API requests
                // and refresh token for refreshing the access token when it expires
            })
            .catch(error => {
                console.error('Error exchanging code for tokens:', error);
            });

    </script>
</body>

</html>